---
title: TIL015 - XRT 실행 모델과 특징2
excerpt: "XRT의 커널 실행 모델 컨트롤"
categories: TIL
tags: xilinx
toc: true
toc_sticky: true
---

## 1. Intro

- XRT는 커널 실행 모델의 디테일을 숨겨서 유저는 커널의 인터페이스를 호스트 코드에 명시할 일 없이 OpenCL이나 XRT API를 사용해서 커널을 실행할 것이다.
- HLS 플로우에서 커널 코드의 pragma는 XRT 지원 모델과 공명해서 HLS가 RTL을 생성하게 한다.
- RTL 커널의 경우 유저가 커널 생성의 유연성을 지니고 있다. 해당 사항에서 이점을 얻으려면 XRT 지원 실행 모델을 이해하는 것이 바람직하다.
- 로우 레벨에서 커널은 AXI-4 Lite Slave interface의 0x0번 주소와 매칭되는 control과 status 레지스터로 컨트롤 된다.

## 2. 순차 실행 모델

- 레거시 모델이며 AP_CTRL_HS pragma로 생성 가능하다.

![image-20220313235725791](https://raw.githubusercontent.com/chun1000/2022-image-repo/image/image-20220313235725791.png)

1. XRT 드라이버가 ap_start에 1을 써서 커널이 시작한다.
2. XRT 드라이버가 ap_done이 커널에서 올 떄까지 기다린다. 이렇게 해서 출력 데이터가 완전히 커널에서 생성 완료된지 여부를 알 수 있다.
3. 1-2를 반복한다.